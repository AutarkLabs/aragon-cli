{"version":3,"sources":["../../../../../src/commands/dao_cmds/acl_cmds/utils/aclExecHandler.js"],"names":["execHandler","require","handler","keccak256","module","exports","dao","method","params","reporter","apm","network","gasPrice","wsProvider","role","silent","debug","getTransactionPath","wrapper","startsWith","processedParams","map","param","getACLTransactionPath","ipfsCheck"],"mappings":";;;;;;;;;;;;;;;;AAAA,IAAMA,WAAW,GAAGC,OAAO,CAAC,yBAAD,CAAP,CAAmCC,OAAvD;;eACsBD,OAAO,CAAC,SAAD,C;IAArBE,S,YAAAA,S;;AAERC,MAAM,CAACC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAiB,kBACfC,GADe,EAEfC,MAFe,EAGfC,MAHe;AAAA;AAAA;AAAA;AAAA;AAAA;AAIbC,YAAAA,QAJa,QAIbA,QAJa,EAIHC,GAJG,QAIHA,GAJG,EAIEC,OAJF,QAIEA,OAJF,EAIWC,QAJX,QAIWA,QAJX,EAIqBC,UAJrB,QAIqBA,UAJrB,EAIiCC,IAJjC,QAIiCA,IAJjC,EAIuCC,MAJvC,QAIuCA,MAJvC,EAI+CC,KAJ/C,QAI+CA,KAJ/C;;AAMTC,YAAAA,kBANS;AAAA;AAAA;AAAA;AAAA;AAAA,sCAMY,iBAAMC,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAGzB;AACA;AACA,4BAAIJ,IAAI,CAACK,UAAL,CAAgB,IAAhB,CAAJ,EAA2B;AACzBC,0BAAAA,eAAe,GAAGZ,MAAlB;AACD,yBAFD,MAEO;AACLY,0BAAAA,eAAe,GAAGZ,MAAM,CAACa,GAAP,CAAW,UAAAC,KAAK;AAAA,mCAChCA,KAAK,KAAKR,IAAV,GAAiB,OAAOX,SAAS,CAACW,IAAD,CAAjC,GAA0CQ,KADV;AAAA,2BAAhB,CAAlB;AAGD;;AAXwB,yDAalBJ,OAAO,CAACK,qBAAR,CAA8BhB,MAA9B,EAAsCa,eAAtC,CAbkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eANZ;;AAAA,8BAMTH,kBANS;AAAA;AAAA;AAAA;;AAAA,8CAqBRjB,WAAW,CAACM,GAAD,EAAMW,kBAAN,EAA0B;AAC1CO,cAAAA,SAAS,EAAE,KAD+B;AAE1Cf,cAAAA,QAAQ,EAARA,QAF0C;AAG1CG,cAAAA,QAAQ,EAARA,QAH0C;AAI1CF,cAAAA,GAAG,EAAHA,GAJ0C;AAK1CG,cAAAA,UAAU,EAAVA,UAL0C;AAM1CF,cAAAA,OAAO,EAAPA,OAN0C;AAO1CI,cAAAA,MAAM,EAANA,MAP0C;AAQ1CC,cAAAA,KAAK,EAALA;AAR0C,aAA1B,CArBH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["const execHandler = require('../../utils/execHandler').handler\nconst { keccak256 } = require('js-sha3')\n\nmodule.exports = async function(\n  dao,\n  method,\n  params,\n  { reporter, apm, network, gasPrice, wsProvider, role, silent, debug }\n) {\n  const getTransactionPath = async wrapper => {\n    let processedParams\n\n    // If the provided role is its name, the name is hashed\n    // TODO: Get role bytes from app artifacts\n    if (role.startsWith('0x')) {\n      processedParams = params\n    } else {\n      processedParams = params.map(param =>\n        param === role ? '0x' + keccak256(role) : param\n      )\n    }\n\n    return wrapper.getACLTransactionPath(method, processedParams)\n  }\n  return execHandler(dao, getTransactionPath, {\n    ipfsCheck: false,\n    reporter,\n    gasPrice,\n    apm,\n    wsProvider,\n    network,\n    silent,\n    debug,\n  })\n}\n"],"file":"aclExecHandler.js"}