{"version":3,"sources":["../../../../../src/commands/dao_cmds/acl_cmds/utils/knownRoles.js"],"names":["sha3","require","keccak256","x","keccak_256","path","findProjectRoot","defaultAppsRoles","currentAppRoles","arappPath","resolve","roles","_","rolesForApps","allRoles","concat","knownRoles","reduce","acc","role","Object","assign","id","module","exports"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,SAAD,CAApB;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,CAAC;AAAA,SAAI,OAAOH,IAAI,CAACI,UAAL,CAAgBD,CAAhB,CAAX;AAAA,CAAnB;;AACA,IAAME,IAAI,GAAGJ,OAAO,CAAC,MAAD,CAApB;;eAC4BA,OAAO,CAAC,kBAAD,C;IAA3BK,e,YAAAA,e;;AACR,IAAMC,gBAAgB,GAAGN,OAAO,CAAC,6BAAD,CAAhC;;AAEA,IAAMO,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B,MAAI;AACF,QAAMC,SAAS,GAAGJ,IAAI,CAACK,OAAL,CAAaJ,eAAe,EAA5B,EAAgC,YAAhC,CAAlB;AACA,WAAOL,OAAO,CAACQ,SAAD,CAAP,CAAmBE,KAAnB,IAA4B,EAAnC;AACD,GAHD,CAGE,OAAOC,CAAP,EAAU;AACV,WAAO,EAAP;AACD;AACF,CAPD,C,CASA;;;AACA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,MAAMC,QAAQ,GAAGP,gBAAgB,CAACQ,MAAjB,CAAwBP,eAAe,EAAvC,CAAjB;AACA,MAAMQ,UAAU,GAAGF,QAAQ,CAACG,MAAT,CACjB,UAACC,GAAD,EAAMC,IAAN;AAAA,WAAeC,MAAM,CAACC,MAAP,CAAcH,GAAd,sBAAsBhB,SAAS,CAACiB,IAAI,CAACG,EAAN,CAA/B,EAA2CH,IAA3C,EAAf;AAAA,GADiB,EAEjB,EAFiB,CAAnB;AAKA,SAAOH,UAAP;AACD,CARD;;AAUAO,MAAM,CAACC,OAAP,GAAiB;AAAEX,EAAAA,YAAY,EAAZA;AAAF,CAAjB","sourcesContent":["const sha3 = require('js-sha3')\nconst keccak256 = x => '0x' + sha3.keccak_256(x)\nconst path = require('path')\nconst { findProjectRoot } = require('../../../../util')\nconst defaultAppsRoles = require('../../../../knownRoles.json')\n\nconst currentAppRoles = () => {\n  try {\n    const arappPath = path.resolve(findProjectRoot(), 'arapp.json')\n    return require(arappPath).roles || []\n  } catch (_) {\n    return []\n  }\n}\n\n// TODO: add support for user apps\nconst rolesForApps = () => {\n  const allRoles = defaultAppsRoles.concat(currentAppRoles())\n  const knownRoles = allRoles.reduce(\n    (acc, role) => Object.assign(acc, { [keccak256(role.id)]: role }),\n    {}\n  )\n\n  return knownRoles\n}\n\nmodule.exports = { rolesForApps }\n"],"file":"knownRoles.js"}