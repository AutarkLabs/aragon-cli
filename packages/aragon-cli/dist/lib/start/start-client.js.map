{"version":3,"sources":["../../../src/lib/start/start-client.js"],"names":["startClient","ctx","clientPort","clientPath","portOpen","bin","rootPath","startArguments","cwd","path","join","err","Error"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;;;;;SAEsBA,W;;;;;;;0BAAf,iBAA2BC,GAA3B,EAAgCC,UAAhC,EAA4CC,UAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACK,uBAAYD,UAAZ,CADL;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEHD,YAAAA,GAAG,CAACG,QAAJ,GAAe,IAAf;AAFG;;AAAA;AAKCC,YAAAA,GALD,GAKO,qBAAU,aAAV,CALP;AAOCC,YAAAA,QAPD,GAOYH,UAAU,IAAIF,GAAG,CAACE,UAP9B;AASCI,YAAAA,cATD,GASkB;AACrBC,cAAAA,GAAG,EAAEC,iBAAKC,IAAL,CAAUJ,QAAV,EAAoB,OAApB;AADgB,aATlB,EAaL;;AACA,mCAAMD,GAAN,EAAW,CAAC,IAAD,EAAOH,UAAP,CAAX,EAA+BK,cAA/B,WAAqD,UAAAI,GAAG,EAAI;AAC1D,oBAAM,IAAIC,KAAJ,CAAUD,GAAV,CAAN;AACD,aAFD;;AAdK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import execa from 'execa'\nimport path from 'path'\nimport { isPortTaken, getBinary } from '../../util'\n\nexport async function startClient(ctx, clientPort, clientPath) {\n  if (await isPortTaken(clientPort)) {\n    ctx.portOpen = true\n    return\n  }\n  const bin = getBinary('http-server')\n\n  const rootPath = clientPath || ctx.clientPath\n\n  const startArguments = {\n    cwd: path.join(rootPath, 'build'),\n  }\n\n  // TODO: Use -o option to open url. Will remove open dependency\n  execa(bin, ['-p', clientPort], startArguments).catch(err => {\n    throw new Error(err)\n  })\n}\n"],"file":"start-client.js"}