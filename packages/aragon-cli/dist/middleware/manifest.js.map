{"version":3,"sources":["../../src/middleware/manifest.js"],"names":["path","require","fs","findProjectRoot","module","exports","manifestMiddleware","argv","runsInCwd","manifestPath","resolve","manifest","readJsonSync","err"],"mappings":";;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMC,EAAE,GAAGD,OAAO,CAAC,UAAD,CAAlB;;eAC4BA,OAAO,CAAC,SAAD,C;IAA3BE,e,YAAAA,e;;AAERC,MAAM,CAACC,OAAP,GAAiB,SAASC,kBAAT,CAA4BC,IAA5B,EAAkC;AACjD,MAAMC,SAAS,GAAGD,IAAI,CAAC,GAAD,CAAJ,KAAc,MAAhC;;AACA,MAAI,CAACC,SAAL,EAAgB;AACd,QAAI;AACF,UAAMC,YAAY,GAAGT,IAAI,CAACU,OAAL,CAAaP,eAAe,EAA5B,EAAgC,eAAhC,CAArB;AACA,UAAMQ,QAAQ,GAAGT,EAAE,CAACU,YAAH,CAAgBH,YAAhB,CAAjB;AAEA,aAAO;AAAEE,QAAAA,QAAQ,EAARA;AAAF,OAAP;AACD,KALD,CAKE,OAAOE,GAAP,EAAY,CACZ;AACD;AACF;;AAED,SAAO,EAAP;AACD,CAdD","sourcesContent":["const path = require('path')\nconst fs = require('fs-extra')\nconst { findProjectRoot } = require('../util')\n\nmodule.exports = function manifestMiddleware(argv) {\n  const runsInCwd = argv['_'] === 'init'\n  if (!runsInCwd) {\n    try {\n      const manifestPath = path.resolve(findProjectRoot(), 'manifest.json')\n      const manifest = fs.readJsonSync(manifestPath)\n\n      return { manifest }\n    } catch (err) {\n      // argv.reporter.debug(err)\n    }\n  }\n\n  return {}\n}\n"],"file":"manifest.js"}